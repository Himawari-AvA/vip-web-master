(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a83918e"],{"2c15":function(t,e,a){"use strict";var i=a("463f"),s=a.n(i);s.a},"454f":function(t,e,a){a("46a7");var i=a("584a").Object;t.exports=function(t,e,a){return i.defineProperty(t,e,a)}},"463f":function(t,e,a){},"46a7":function(t,e,a){var i=a("63b6");i(i.S+i.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},"733d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-pie-chart"}),t._v(" 数据统计 ")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"schart-box"},[a("div",{staticClass:"content-title"},[t._v("会员性别数据统计")]),t.loading?a("schart",{staticClass:"schart",attrs:{canvasId:"pie",options:t.options1}}):t._e()],1),a("div",{staticClass:"schart-box"},[a("div",{staticClass:"content-title"},[t._v("会员生日数据统计")]),t.loading?a("schart",{staticClass:"schart",attrs:{canvasId:"line",options:t.options3}}):t._e()],1),a("div",{staticClass:"schart-box"},[a("div",{staticClass:"content-title"},[t._v("会员生日数据统计")]),t.loading?a("schart",{staticClass:"schart",attrs:{canvasId:"bar",options:t.options2}}):t._e()],1)])])},s=[],h=(a("6762"),a("2fdb"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("canvas",{attrs:{id:t.canvasId}})])}),r=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),o=a("b367"),l=a.n(o);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var b={props:{canvasId:{type:String,default:"",required:!0},options:{type:Object,required:!0}},mounted:function(){this.renderChart()},methods:{renderChart:function(){if(this.checkOptions()){var t=c({},this.options);new l.a(this.canvasId,t)}},checkOptions:function(){var t=this.options;return!(!t.datasets||!t.datasets.length)&&!(!t.labels||!t.labels.length)}},watch:{options:{handler:function(t,e){this.renderChart()},deep:!0}}},f=b,u=a("2877"),g=Object(u["a"])(f,h,r,!1,null,null,null),y=g.exports,m=a("365c"),v={name:"basecharts",components:{Schart:y},data:function(){return{memberData:[],birthdayData:[0,0,0,0,0,0,0,0,0,0,0,0],birthdayMaleData:[0,0,0,0,0,0,0,0,0,0,0,0],birthdayFemaleData:[0,0,0,0,0,0,0,0,0,0,0,0],male:0,female:0,loading:!1,options1:{type:"pie",title:{text:"会员性别统计"},bgColor:"#fbfbfb",labels:["男","女"],datasets:[{data:[234,278]}]},options2:{type:"line",title:{text:"会员生日月份统计"},bgColor:"#fbfbfb",labels:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],datasets:[{label:"总计",data:[]}]},options3:{type:"bar",title:{text:"会员生日月份统计"},bgColor:"#fbfbfb",labels:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],datasets:[{label:"男",data:[]},{label:"女",data:[]}]}}},created:function(){this.getMemberData()},methods:{getMemberData:function(){var t=this;Object(m["o"])(this.query).then((function(e){t.memberData=e.data.list,t.pageTotal=e.data.pageTotal||50,t.loading=!0,t.handleData()}))},handleData:function(){for(var t=0;t<this.memberData.length;t++)"男"==this.memberData[t].sex&&this.male++,"女"==this.memberData[t].sex&&this.female++,this.memberData[t].birthday.includes("-01-")&&(this.birthdayData[0]++,"男"==this.memberData[t].sex?this.birthdayMaleData[0]++:this.birthdayFemaleData[0]++),this.memberData[t].birthday.includes("-02-")&&(this.birthdayData[1]++,"男"==this.memberData[t].sex?this.birthdayMaleData[1]++:this.birthdayFemaleData[1]++),this.memberData[t].birthday.includes("-03-")&&(this.birthdayData[2]++,"男"==this.memberData[t].sex?this.birthdayMaleData[2]++:this.birthdayFemaleData[2]++),this.memberData[t].birthday.includes("-04-")&&(this.birthdayData[3]++,"男"==this.memberData[t].sex?this.birthdayMaleData[3]++:this.birthdayFemaleData[3]++),this.memberData[t].birthday.includes("-05-")&&(this.birthdayData[4]++,"男"==this.memberData[t].sex?this.birthdayMaleData[4]++:this.birthdayFemaleData[4]++),this.memberData[t].birthday.includes("-06-")&&(this.birthdayData[5]++,"男"==this.memberData[t].sex?this.birthdayMaleData[5]++:this.birthdayFemaleData[5]++),this.memberData[t].birthday.includes("-07-")&&(this.birthdayData[6]++,"男"==this.memberData[t].sex?this.birthdayMaleData[6]++:this.birthdayFemaleData[6]++),this.memberData[t].birthday.includes("-08-")&&(this.birthdayData[7]++,"男"==this.memberData[t].sex?this.birthdayMaleData[7]++:this.birthdayFemaleData[7]++),this.memberData[t].birthday.includes("-09-")&&(this.birthdayData[8]++,"男"==this.memberData[t].sex?this.birthdayMaleData[8]++:this.birthdayFemaleData[8]++),this.memberData[t].birthday.includes("-10-")&&(this.birthdayData[9]++,"男"==this.memberData[t].sex?this.birthdayMaleData[9]++:this.birthdayFemaleData[9]++),this.memberData[t].birthday.includes("-11-")&&(this.birthdayData[10]++,"男"==this.memberData[t].sex?this.birthdayMaleData[10]++:this.birthdayFemaleData[10]++),this.memberData[t].birthday.includes("-12-")&&(this.birthdayData[11]++,"男"==this.memberData[t].sex?this.birthdayMaleData[11]++:this.birthdayFemaleData[11]++);this.putInData()},putInData:function(){this.options1.datasets[0].data[0]=this.male,this.options1.datasets[0].data[1]=this.female,this.options2.datasets[0].data=this.birthdayData,this.options3.datasets[0].data=this.birthdayMaleData,this.options3.datasets[1].data=this.birthdayFemaleData}}},p=v,x=(a("2c15"),Object(u["a"])(p,i,s,!1,null,"8cf00ada",null));e["default"]=x.exports},"85f2":function(t,e,a){t.exports=a("454f")},b367:function(t,e,a){!function(e,a){t.exports=a()}(0,(function(){"use strict";function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a=window.devicePixelRatio||1,i=10*a,s=i/2;return function(){function h(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),this.canvas=function(t){var e=document.getElementById(t),i=e.parentNode.clientWidth,s=e.parentNode.clientHeight;return e.style.width=i+"px",e.style.height=s+"px",e.width=i*a,e.height=s*a,e}(t),this.ctx=this.canvas.getContext("2d"),this.type="bar",this.showValue=!0,this.showGrid=!0,this.topPadding=60*a,this.leftPadding=50*a,this.rightPadding=10*a,this.bottomPadding=50*a,this.yEqual=5,this.yLength=0,this.xLength=0,this.ySpace=0,this.xRorate=0,this.yRorate=0,this.bgColor="#fff",this.axisColor="#666",this.gridColor="#eee",this.title={text:"",color:"#666",position:"top",font:"bold "+18*a+"px Arial",top:i,bottom:s},this.legend={display:!0,position:"top",color:"#666",font:14*a+"px Arial",top:45*a,bottom:15*a,textWidth:0},this.radius=100*a,this.innerRadius=60*a,this.colorList=["#4A90E2","#F5A623","#ff5858","#5e64ff","#2AC766","#743ee2","#b554ff","#199475"],this.init(e)}return function(e,a,i){a&&t(e.prototype,a),i&&t(e,i)}(h,[{key:"init",value:function(t){if(t.title=Object.assign({},this.title,t.title),t.legend=Object.assign({},this.legend,t.legend),Object.assign(this,t),!t.labels||!t.labels.length)throw new Error("缺少主要参数labels");if(!t.datasets||!t.datasets.length)throw new Error("缺少主要参数datasets");this.drawBackground(),"bar"===this.type||"line"===this.type?this.renderBarChart():this.renderPieChart(),this.drawLegend()}},{key:"renderBarChart",value:function(){this.yLength=Math.floor((this.canvas.height-this.topPadding-this.bottomPadding-i)/this.yEqual),this.xLength=Math.floor((this.canvas.width-this.leftPadding-this.rightPadding-i)/this.labels.length),this.ySpace=function(t,a){var i=t.map((function(t){return t.data.reduce((function(t,e){return e<t?t:e}))})),s=Math.ceil(Math.max.apply(Math,e(i))/a),h=s.toString().length-1;return h=2<h?2:h,Math.ceil(s/Math.pow(10,h))*Math.pow(10,h)}(this.datasets,this.yEqual),this.drawXAxis(),this.drawYAxis(),this.drawBarContent()}},{key:"drawBarContent",value:function(){var t=this.ctx,e=this.datasets.length;t.beginPath();for(var h=0;h<e;h++){t.font=this.legend.font,this.legend.textWidth+=Math.ceil(t.measureText(this.datasets[h].label).width),t.fillStyle=t.strokeStyle=this.datasets[h].fillColor||this.colorList[h];for(var r=this.datasets[h].data,n=0;n<r.length;n++)if(!(n>this.labels.length-1)){var o=this.xLength/(e+1),l=this.yLength/this.ySpace,d=this.leftPadding+this.xLength*n+o*(h+.5),c=d+o,b=this.canvas.height-this.bottomPadding,f=b-r[n]*l;if("bar"===this.type)t.fillRect(d,f,c-d,b-f),this.drawValue(r[n],d+o/2,f-s);else if("line"===this.type){var u=this.leftPadding+this.xLength*(n+.5);t.beginPath(),t.arc(u,f,3*a,0,2*Math.PI,!0),t.fill(),0!==n&&(t.beginPath(),t.strokeStyle=this.datasets[h].fillColor||this.colorList[h],t.lineWidth=2*a,t.moveTo(u-this.xLength,b-r[n-1]*l),t.lineTo(u,f),t.stroke(),t.lineWidth=1*a),this.drawValue(r[n],u,f-i)}}}t.stroke()}},{key:"renderPieChart",value:function(){for(var t=this.ctx,e=this.labels.length,a=this.datasets[0],i=a.data,s=i.reduce((function(t,e){return t+e})),h=-Math.PI/2,r=this.canvas.width/2,n=this.canvas.height/2,o=0;o<e;o++){t.font=this.legend.font,this.legend.textWidth+=Math.ceil(t.measureText(this.labels[o]).width),t.beginPath(),t.strokeStyle=t.fillStyle=a.colorList&&a.colorList[o]||this.colorList[o],t.moveTo(r,n);var l=h,d=h+=i[o]/s*2*Math.PI;t.arc(r,n,this.radius,l,d),t.closePath(),t.fill();var c=(l+d)/2;this.drawPieValue(i[o],c)}"ring"===this.type&&(t.beginPath(),t.fillStyle=this.bgColor,t.arc(r,n,this.innerRadius,0,2*Math.PI),t.closePath(),t.fill())}},{key:"drawValue",value:function(t,e,i){var s=this.ctx;this.showValue&&(s.textBaseline="middle",s.font=12*a+"px Arial",s.textAlign="center",s.fillText(t,e,i))}},{key:"drawPieValue",value:function(t,e){var a=this.ctx;if(this.showValue){var s=this.canvas.width/2,h=this.canvas.height/2,r=Math.ceil(Math.abs(this.radius*Math.cos(e))),n=Math.floor(Math.abs(this.radius*Math.sin(e)));a.textBaseline="middle",this.showValue&&(e<=0?(a.textAlign="left",a.moveTo(s+r,h-n),a.lineTo(s+r+i,h-n-i),a.moveTo(s+r+i,h-n-i),a.lineTo(s+r+3*i,h-n-i),a.stroke(),a.fillText(t,s+r+3.5*i,h-n-i)):0<e&&e<=Math.PI/2?(a.textAlign="left",a.moveTo(s+r,h+n),a.lineTo(s+r+i,h+n+i),a.moveTo(s+r+i,h+n+i),a.lineTo(s+r+3*i,h+n+i),a.stroke(),a.fillText(t,s+r+3.5*i,h+n+i)):e>Math.PI/2&&e<Math.PI?(a.textAlign="right",a.moveTo(s-r,h+n),a.lineTo(s-r-i,h+n+i),a.moveTo(s-r-i,h+n+i),a.lineTo(s-r-3*i,h+n+i),a.stroke(),a.fillText(t,s-r-3.5*i,h+n+i)):(a.textAlign="right",a.moveTo(s-r,h-n),a.lineTo(s-r-i,h-n-i),a.moveTo(s-r-i,h-n-i),a.lineTo(s-r-3*i,h-n-i),a.stroke(),a.fillText(t,s-r-3.5*i,h-n-i)))}}},{key:"drawBackground",value:function(){this.ctx.fillStyle=this.bgColor,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.drawTitle()}},{key:"drawTitle",value:function(){var t=this.title;if(t.text){var e=this.ctx;e.beginPath(),e.font=t.font,e.textAlign="center",e.fillStyle=t.color,"top"===t.position?(e.textBaseline="top",e.fillText(t.text,this.canvas.width/2,t.top)):(e.textBaseline="bottom",e.fillText(t.text,this.canvas.width/2,this.canvas.height-t.bottom))}}},{key:"drawXAxis",value:function(){var t=this.ctx,e=this.canvas.height-this.bottomPadding+.5;t.beginPath(),t.strokeStyle=this.axisColor,t.moveTo(this.leftPadding,e),t.lineTo(this.canvas.width-this.rightPadding,e),t.stroke(),this.drawXPoint()}},{key:"drawXPoint",value:function(){var t=this.ctx;t.beginPath(),t.font=12*a+"px Microsoft YaHei",t.textAlign=this.xRorate?"right":"center",t.textBaseline="top",t.fillStyle=this.axisColor;for(var e=0;e<this.labels.length;e++){var h=this.labels[e],r=this.leftPadding+this.xLength*(e+1)+.5,n=this.canvas.height-this.bottomPadding;this.showGrid?(t.strokeStyle=this.gridColor,t.moveTo(r,n),t.lineTo(r,this.topPadding+i)):(t.moveTo(r,n),t.lineTo(r,n-s)),t.stroke(),t.save(),t.translate(r-this.xLength/2,n+s),t.rotate(-this.xRorate*Math.PI/180),t.fillText(h,0,0),t.restore()}}},{key:"drawYAxis",value:function(){var t=this.ctx;t.beginPath(),t.strokeStyle=this.axisColor,t.moveTo(this.leftPadding-.5,this.canvas.height-this.bottomPadding+.5),t.lineTo(this.leftPadding-.5,this.topPadding+.5),t.stroke(),this.drawYPoint()}},{key:"drawYPoint",value:function(){var t=this.ctx;t.font=12*a+"px Microsoft YaHei",t.textAlign="right",t.textBaseline="middle",t.beginPath();for(var e=0;e<this.yEqual;e++){var h=this.leftPadding,r=this.canvas.height-this.bottomPadding-this.yLength*(e+1)+.5;this.showGrid?(t.strokeStyle=this.gridColor,t.moveTo(h,r),t.lineTo(this.canvas.width-this.rightPadding-i,r)):(t.strokeStyle=this.axisColor,t.moveTo(h-s,r),t.lineTo(h,r)),t.stroke(),t.save(),t.fillStyle=this.axisColor,t.translate(h-i,r),t.rotate(-this.yRorate*Math.PI/180),t.fillText(this.ySpace*(e+1),0,0),t.restore()}}},{key:"drawLegend",value:function(){var t=this.legend;if(t.display){var e=this.ctx,a="pie"===this.type||"ring"===this.type;e.beginPath(),e.font=t.font,e.textAlign="left",e.textBaseline="middle";for(var h=a?this.labels.length:this.datasets.length,r=(this.canvas.width-(this.legend.textWidth+(5*h-2)*i))/2,n=0,o=0;o<h;o++){var l=a?this.datasets[0]:this.datasets[o],d=(a?this.labels[o]:l.label)||"";e.fillStyle=l.colorList&&l.colorList[o]||l.fillColor||this.colorList[o],"top"===t.position?(this.drawLegendIcon(r+5*i*o+n,t.top-s,2*i,i),e.fillStyle=t.color,e.fillText(d,r+(5*o+3)*i+n,t.top)):"bottom"===t.position?(this.drawLegendIcon(r+5*i*o+n,this.canvas.height-t.bottom-s,2*i,i),e.fillStyle=t.color,e.fillText(d,r+(5*o+3)*i+n,this.canvas.height-t.bottom)):(e.fillRect(i,t.top+2*i*o,2*i,i),e.fillStyle=t.color,e.fillText(d,4*i,t.top+2*i*o+.5*i)),n+=Math.ceil(e.measureText(d).width)}}}},{key:"drawLegendIcon",value:function(t,e,h,r){var n=this.ctx;"line"===this.type?(n.beginPath(),n.strokeStyle=n.fillStyle,n.lineWidth=2*a,n.moveTo(t,e+s),n.lineTo(t+2*i,e+s),n.stroke(),n.lineWidth=1*a,n.arc(t+i,e+s,3*a,0,2*Math.PI,!0),n.fill()):n.fillRect(t,e,h,r)}}]),h}()}))},bd86:function(t,e,a){"use strict";a.d(e,"a",(function(){return h}));var i=a("85f2"),s=a.n(i);function h(t,e,a){return e in t?s()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}}}]);